import{a0 as O,aI as C}from"./index.0c319d2b.js";import{s as S}from"./sessao.946ce1a2.js";function w(e){const t=document.getElementById(e);return t?{width:t.offsetWidth,height:t.offsetHeight}:null}function T(e){return new Promise(t=>setTimeout(t,e))}const k={"-":"+",_:"/"},v={"+":"-","/":"_","=":""};var j={decodeFromUrl(e){return e.replace(/[-_.]/g,t=>k[t]),e=e+"===".slice((e.length+3)%4),atob(e)},decode(e){return atob(e)},encode(e){return btoa(e)},encodeToUrl(e){return e=btoa(e),e.replace(/[+/=]/g,t=>v[t])}};function P(e){return new Promise(t=>{const r=new FileReader;r.onloadend=()=>t(r.result),r.readAsDataURL(e)})}function A(e){return JSON.parse(JSON.stringify(e))}const i=function(e){let t;if(Array.isArray(e)){let r=[];for(const c of e)t=i(c),t!==null&&r.push(t);if(e.length!==0)return r}else if(typeof e=="object"&&e!==null){let r={};for(const c in e)t=i(e[c]),t!==null&&(r[c]=t);if(Object.keys(r).length!==0)return r}else return e===void 0?null:e;return null},p=function(e){if(Array.isArray(e))return e.map(t=>p(t));if(typeof e=="object"&&e!==null){let t={};for(const r in e)t[r]=p(e[r]);return t}else return e};function b(e){if(typeof e!="object")throw new Error("O object n\xE3o \xE9 v\xE1lido.");e=A(e);for(const t in e){const r=e[t];(r!==null||r!==void 0)&&(typeof r!="object"||(e[t]=b(r),r&&Object.keys(r).length>0))||(Array.isArray(e)?e.splice(t,1):delete e[t])}return e}function _({array:e,chave:t="id",campos:r,objetoOriginal:c}){const n={};for(const o of e||[]){let a;if(r){a={};for(const l of r){const s=Array.isArray(l)?l[0]:l,f=Array.isArray(l)?l[1]:l;a[f]=o[s]}}else a={...o},delete a[t];const u=o[t];n[u]=a}for(const o in c)n[o]||(n[o]=null);return n}function D({objetos:e,chave:t="id",campos:r}){const c=[];for(const n in e)if(n!==t){let o={[t]:n};if(r)for(const a of r){const u=Array.isArray(a)?a[0]:a,l=Array.isArray(a)?a[1]:a;o[l]=e[n][u]}else o={...o,...e[n]};c.push(o)}return c}function I(){return O.formatDate(Date.now())}const h=[null,void 0,"",0,!1],x=function(e,t){let r=[];const c=e.length>t.length?e.length:t.length;for(let n=0;n<c;n++){const o=y(e[n],t[n]);o&&(r[n]=o)}return r.length>0?r:null},B=function(e,t){let r={};e=e||{},t=t||{};const c=[...new Set([...Object.keys(e),...Object.keys(t)])];for(const n of c){const o=y(e[n],t[n]);o&&(r[n]=o)}return Object.keys(r).length>0?r:null},y=function(e,t){if(h.includes(e)){if(h.includes(t))return null}else if(Array.isArray(e)){if(Array.isArray(t))return x(e,t)}else if(typeof e=="object"&&typeof t=="object"&&t!==null)return B(e,t);if(e!==t){const r=i(e),c=i(t);if(r!==c)return{original:r,alterado:c}}return null},U="https://yo.b15.app/api";async function z(e,t){var c,n,o;let r;try{const a=new AbortController,{signal:u}=a,l=(c=t==null?void 0:t.timeout)!=null?c:3e4,s={method:"POST",headers:{"Content-Type":"application/json"},signal:u};if((n=t==null?void 0:t.requiresAuth)==null||n){const d=$utils.sessao.get(),m=(o=d==null?void 0:d.token)!=null?o:localStorage.getItem("OptTk");m&&(s.headers.Authorization=`Bearer ${m}`)}e&&(s.body=JSON.stringify(e)),r=setTimeout(()=>a.abort(),l);const f=await fetch(U,s);return f.ok?await f.json():{erro:"Erro inesperado"}}catch{return{erro:"Sem internet ou falha de comunica\xE7\xE3o"}}finally{clearTimeout(r)}}function J(){localStorage.removeItem("OptTk"),$router.push("/login")}function N(e,t){const r=document.createElement("script");r.src=e,r.onload=t,r.onerror=function(){console.error("Erro ao carregar o script:",e)},document.head.appendChild(r)}const $=function(){return C().toUpperCase()},F=function(){};var V=Object.freeze(Object.defineProperty({__proto__:null,api:z,sessao:S,logout:J,loadScript:N,uuid:$,tela:w,dormir:T,base64:j,blobToBase64:P,clonar:A,clonarCompactar:i,clonarV2:p,compactarObjeto:b,converterArrayParaObjeto:_,converterObjetoParraArray:D,dataAtual:I,diferenca:y,extenso:F},Symbol.toStringTag,{value:"Module"}));export{F as e,V as u};
