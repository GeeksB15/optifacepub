import{a0 as O,aI as w}from"./index.e05c9ea9.js";import{s as C}from"./sessao.30c4e455.js";function T(e){const t=document.getElementById(e);return t?{width:t.offsetWidth,height:t.offsetHeight}:null}function k(e){return new Promise(t=>setTimeout(t,e))}const v={"-":"+",_:"/"},S={"+":"-","/":"_","=":""};var j={decodeFromUrl(e){return e.replace(/[-_.]/g,t=>v[t]),e=e+"===".slice((e.length+3)%4),atob(e)},decode(e){return atob(e)},encode(e){return btoa(e)},encodeToUrl(e){return e=btoa(e),e.replace(/[+/=]/g,t=>S[t])}};function P(e){return new Promise(t=>{const n=new FileReader;n.onloadend=()=>t(n.result),n.readAsDataURL(e)})}function m(e){return JSON.parse(JSON.stringify(e))}const f=function(e){let t;if(Array.isArray(e)){let n=[];for(const c of e)t=f(c),t!==null&&n.push(t);if(e.length!==0)return n}else if(typeof e=="object"&&e!==null){let n={};for(const c in e)t=f(e[c]),t!==null&&(n[c]=t);if(Object.keys(n).length!==0)return n}else return e===void 0?null:e;return null},d=function(e){if(Array.isArray(e))return e.map(t=>d(t));if(typeof e=="object"&&e!==null){let t={};for(const n in e)t[n]=d(e[n]);return t}else return e};function b(e){if(typeof e!="object")throw new Error("O object n\xE3o \xE9 v\xE1lido.");e=m(e);for(const t in e){const n=e[t];(n!==null||n!==void 0)&&(typeof n!="object"||(e[t]=b(n),n&&Object.keys(n).length>0))||(Array.isArray(e)?e.splice(t,1):delete e[t])}return e}function _({array:e,chave:t="id",campos:n,objetoOriginal:c}){const r={};for(const o of e||[]){let l;if(n){l={};for(const a of n){const s=Array.isArray(a)?a[0]:a,i=Array.isArray(a)?a[1]:a;l[i]=o[s]}}else l={...o},delete l[t];const u=o[t];r[u]=l}for(const o in c)r[o]||(r[o]=null);return r}function D({objetos:e,chave:t="id",campos:n}){const c=[];for(const r in e)if(r!==t){let o={[t]:r};if(n)for(const l of n){const u=Array.isArray(l)?l[0]:l,a=Array.isArray(l)?l[1]:l;o[a]=e[r][u]}else o={...o,...e[r]};c.push(o)}return c}function x(){return O.formatDate(Date.now())}const h=[null,void 0,"",0,!1],B=function(e,t){let n=[];const c=e.length>t.length?e.length:t.length;for(let r=0;r<c;r++){const o=p(e[r],t[r]);o&&(n[r]=o)}return n.length>0?n:null},I=function(e,t){let n={};e=e||{},t=t||{};const c=[...new Set([...Object.keys(e),...Object.keys(t)])];for(const r of c){const o=p(e[r],t[r]);o&&(n[r]=o)}return Object.keys(n).length>0?n:null},p=function(e,t){if(h.includes(e)){if(h.includes(t))return null}else if(Array.isArray(e)){if(Array.isArray(t))return B(e,t)}else if(typeof e=="object"&&typeof t=="object"&&t!==null)return I(e,t);if(e!==t){const n=f(e),c=f(t);if(n!==c)return{original:n,alterado:c}}return null},U="http://localhost:1025";async function z(e,t){var c,r,o;let n;try{const l=new AbortController,{signal:u}=l,a=(c=t==null?void 0:t.timeout)!=null?c:3e4,s={method:"POST",headers:{"Content-Type":"application/json"},signal:u};if((r=t==null?void 0:t.requiresAuth)==null||r){const y=$utils.sessao.get(),A=(o=y==null?void 0:y.token)!=null?o:localStorage.getItem("OptTk");A&&(s.headers.Authorization=`Bearer ${A}`)}e&&(s.body=JSON.stringify(e)),n=setTimeout(()=>l.abort(),a);const i=await fetch(U,s);return i.ok?await i.json():{erro:"Erro inesperado"}}catch{return{erro:"Sem internet ou falha de comunica\xE7\xE3o"}}finally{clearTimeout(n)}}const J=function(){return w().toUpperCase()},N=function(){};var R=Object.freeze(Object.defineProperty({__proto__:null,api:z,sessao:C,uuid:J,tela:T,dormir:k,base64:j,blobToBase64:P,clonar:m,clonarCompactar:f,clonarV2:d,compactarObjeto:b,converterArrayParaObjeto:_,converterObjetoParraArray:D,dataAtual:x,diferenca:p,extenso:N},Symbol.toStringTag,{value:"Module"}));export{N as e,R as u};
